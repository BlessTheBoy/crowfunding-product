"use strict";var currentTab,isBookmarked;function onGot(o){console.log(o),currentTab=o}function onError(o){console.log("Error: ".concat(o))}function isSupportedProtocol(o){var r=document.createElement("a");return r.href=o,-1!=["https:","http:","ftp:","file:"].indexOf(r.protocol)}function checkBookmark(){(console.log("Checking for bookmark"),isSupportedProtocol(currentTab.url))?browser.bookmarks.search({url:currentTab.url}).then((function(o){if(o.length>0)return isBookmarked=!0,void console.log("bookmark found");isBookmarked=!1,console.log("Page hasn't been bookmarked")})):console.log("Bookmark it! does not support the '".concat(currentTab.url,"' URL."))}function addBookmark(){currentBookmark?console.log("Page was already bookmarked"):(browser.bookmarks.create({title:currentTab.title,url:currentTab.url}),isBookmarked=!0,alert("Bookmark added"))}console.log("bookmark.js connected"),browser.tabs.getCurrent().then(onGot,onError),browser.bookmarks.onCreated.addListener(checkBookmark),browser.bookmarks.onRemoved.addListener(checkBookmark),browser.tabs.onUpdated.addListener(checkBookmark);
//# sourceMappingURL=bookmark.js.map