{"version":3,"sources":["microModal.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","e","t","exports","module","define","amd","self","MicroModal","o","length","n","enumerable","configurable","writable","Object","defineProperty","key","Array","isArray","from","toString","call","slice","name","test","TypeError","i","a","r","s","l","targetModal","triggers","onShow","onClose","c","d","openTrigger","u","f","closeTrigger","h","v","openClass","m","g","disableScroll","b","y","disableFocus","p","w","awaitCloseAnimation","E","k","awaitOpenAnimation","M","C","debugMode","A","this","modal","document","getElementById","config","registerTriggers","apply","onClick","bind","onKeydown","value","arguments","filter","Boolean","forEach","addEventListener","showModal","activeElement","setAttribute","classList","add","scrollBehaviour","addEventListeners","removeEventListener","setFocusToFirstNode","removeEventListeners","focus","remove","closeModal","querySelector","assign","style","overflow","target","hasAttribute","keyCode","retainFocus","querySelectorAll","getFocusableNodes","offsetParent","contains","indexOf","shiftKey","preventDefault","console","warn","concat","init","attributes","push","show","close","closeModalById","window","log"],"mappings":"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","file":"microModal.js","sourcesContent":["!(function (e, t) {\r\n  \"object\" == typeof exports && \"undefined\" != typeof module\r\n    ? (module.exports = t())\r\n    : \"function\" == typeof define && define.amd\r\n    ? define(t)\r\n    : ((e = e || self).MicroModal = t());\r\n})(this, function () {\r\n  \"use strict\";\r\n  function e(e, t) {\r\n    for (var o = 0; o < t.length; o++) {\r\n      var n = t[o];\r\n      (n.enumerable = n.enumerable || !1),\r\n        (n.configurable = !0),\r\n        \"value\" in n && (n.writable = !0),\r\n        Object.defineProperty(e, n.key, n);\r\n    }\r\n  }\r\n  function t(e) {\r\n    return (\r\n      (function (e) {\r\n        if (Array.isArray(e)) return o(e);\r\n      })(e) ||\r\n      (function (e) {\r\n        if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e))\r\n          return Array.from(e);\r\n      })(e) ||\r\n      (function (e, t) {\r\n        if (!e) return;\r\n        if (\"string\" == typeof e) return o(e, t);\r\n        var n = Object.prototype.toString.call(e).slice(8, -1);\r\n        \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n        if (\"Map\" === n || \"Set\" === n) return Array.from(n);\r\n        if (\r\n          \"Arguments\" === n ||\r\n          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)\r\n        )\r\n          return o(e, t);\r\n      })(e) ||\r\n      (function () {\r\n        throw new TypeError(\r\n          \"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\r\n        );\r\n      })()\r\n    );\r\n  }\r\n  function o(e, t) {\r\n    (null == t || t > e.length) && (t = e.length);\r\n    for (var o = 0, n = new Array(t); o < t; o++) n[o] = e[o];\r\n    return n;\r\n  }\r\n  var n,\r\n    i,\r\n    a,\r\n    r,\r\n    s,\r\n    l =\r\n      ((n = [\r\n        \"a[href]\",\r\n        \"area[href]\",\r\n        'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n        \"select:not([disabled]):not([aria-hidden])\",\r\n        \"textarea:not([disabled]):not([aria-hidden])\",\r\n        \"button:not([disabled]):not([aria-hidden])\",\r\n        \"iframe\",\r\n        \"object\",\r\n        \"embed\",\r\n        \"[contenteditable]\",\r\n        '[tabindex]:not([tabindex^=\"-\"])',\r\n      ]),\r\n      (i = (function () {\r\n        function o(e) {\r\n          var n = e.targetModal,\r\n            i = e.triggers,\r\n            a = void 0 === i ? [] : i,\r\n            r = e.onShow,\r\n            s = void 0 === r ? function () {} : r,\r\n            l = e.onClose,\r\n            c = void 0 === l ? function () {} : l,\r\n            d = e.openTrigger,\r\n            u = void 0 === d ? \"data-micromodal-trigger\" : d,\r\n            f = e.closeTrigger,\r\n            h = void 0 === f ? \"data-micromodal-close\" : f,\r\n            v = e.openClass,\r\n            m = void 0 === v ? \"is-open\" : v,\r\n            g = e.disableScroll,\r\n            b = void 0 !== g && g,\r\n            y = e.disableFocus,\r\n            p = void 0 !== y && y,\r\n            w = e.awaitCloseAnimation,\r\n            E = void 0 !== w && w,\r\n            k = e.awaitOpenAnimation,\r\n            M = void 0 !== k && k,\r\n            C = e.debugMode,\r\n            A = void 0 !== C && C;\r\n          !(function (e, t) {\r\n            if (!(e instanceof t))\r\n              throw new TypeError(\"Cannot call a class as a function\");\r\n          })(this, o),\r\n            (this.modal = document.getElementById(n)),\r\n            (this.config = {\r\n              debugMode: A,\r\n              disableScroll: b,\r\n              openTrigger: u,\r\n              closeTrigger: h,\r\n              openClass: m,\r\n              onShow: s,\r\n              onClose: c,\r\n              awaitCloseAnimation: E,\r\n              awaitOpenAnimation: M,\r\n              disableFocus: p,\r\n            }),\r\n            a.length > 0 && this.registerTriggers.apply(this, t(a)),\r\n            (this.onClick = this.onClick.bind(this)),\r\n            (this.onKeydown = this.onKeydown.bind(this));\r\n        }\r\n        var i, a, r;\r\n        return (\r\n          (i = o),\r\n          (a = [\r\n            {\r\n              key: \"registerTriggers\",\r\n              value: function () {\r\n                for (\r\n                  var e = this, t = arguments.length, o = new Array(t), n = 0;\r\n                  n < t;\r\n                  n++\r\n                )\r\n                  o[n] = arguments[n];\r\n                o.filter(Boolean).forEach(function (t) {\r\n                  t.addEventListener(\"click\", function (t) {\r\n                    return e.showModal(t);\r\n                  });\r\n                });\r\n              },\r\n            },\r\n            {\r\n              key: \"showModal\",\r\n              value: function () {\r\n                var e = this,\r\n                  t =\r\n                    arguments.length > 0 && void 0 !== arguments[0]\r\n                      ? arguments[0]\r\n                      : null;\r\n                if (\r\n                  ((this.activeElement = document.activeElement),\r\n                  this.modal.setAttribute(\"aria-hidden\", \"false\"),\r\n                  this.modal.classList.add(this.config.openClass),\r\n                  this.scrollBehaviour(\"disable\"),\r\n                  this.addEventListeners(),\r\n                  this.config.awaitOpenAnimation)\r\n                ) {\r\n                  var o = function t() {\r\n                    e.modal.removeEventListener(\"animationend\", t, !1),\r\n                      e.setFocusToFirstNode();\r\n                  };\r\n                  this.modal.addEventListener(\"animationend\", o, !1);\r\n                } else this.setFocusToFirstNode();\r\n                this.config.onShow(this.modal, this.activeElement, t);\r\n              },\r\n            },\r\n            {\r\n              key: \"closeModal\",\r\n              value: function () {\r\n                var e =\r\n                    arguments.length > 0 && void 0 !== arguments[0]\r\n                      ? arguments[0]\r\n                      : null,\r\n                  t = this.modal;\r\n                if (\r\n                  (this.modal.setAttribute(\"aria-hidden\", \"true\"),\r\n                  this.removeEventListeners(),\r\n                  this.scrollBehaviour(\"enable\"),\r\n                  this.activeElement &&\r\n                    this.activeElement.focus &&\r\n                    this.activeElement.focus(),\r\n                  this.config.onClose(this.modal, this.activeElement, e),\r\n                  this.config.awaitCloseAnimation)\r\n                ) {\r\n                  var o = this.config.openClass;\r\n                  this.modal.addEventListener(\r\n                    \"animationend\",\r\n                    function e() {\r\n                      t.classList.remove(o),\r\n                        t.removeEventListener(\"animationend\", e, !1);\r\n                    },\r\n                    !1\r\n                  );\r\n                } else t.classList.remove(this.config.openClass);\r\n              },\r\n            },\r\n            {\r\n              key: \"closeModalById\",\r\n              value: function (e) {\r\n                (this.modal = document.getElementById(e)),\r\n                  this.modal && this.closeModal();\r\n              },\r\n            },\r\n            {\r\n              key: \"scrollBehaviour\",\r\n              value: function (e) {\r\n                if (this.config.disableScroll) {\r\n                  var t = document.querySelector(\"body\");\r\n                  switch (e) {\r\n                    case \"enable\":\r\n                      Object.assign(t.style, { overflow: \"\" });\r\n                      break;\r\n                    case \"disable\":\r\n                      Object.assign(t.style, { overflow: \"hidden\" });\r\n                  }\r\n                }\r\n              },\r\n            },\r\n            {\r\n              key: \"addEventListeners\",\r\n              value: function () {\r\n                this.modal.addEventListener(\"touchstart\", this.onClick),\r\n                  this.modal.addEventListener(\"click\", this.onClick),\r\n                  document.addEventListener(\"keydown\", this.onKeydown);\r\n              },\r\n            },\r\n            {\r\n              key: \"removeEventListeners\",\r\n              value: function () {\r\n                this.modal.removeEventListener(\"touchstart\", this.onClick),\r\n                  this.modal.removeEventListener(\"click\", this.onClick),\r\n                  document.removeEventListener(\"keydown\", this.onKeydown);\r\n              },\r\n            },\r\n            {\r\n              key: \"onClick\",\r\n              value: function (e) {\r\n                e.target.hasAttribute(this.config.closeTrigger) &&\r\n                  this.closeModal(e);\r\n              },\r\n            },\r\n            {\r\n              key: \"onKeydown\",\r\n              value: function (e) {\r\n                27 === e.keyCode && this.closeModal(e),\r\n                  9 === e.keyCode && this.retainFocus(e);\r\n              },\r\n            },\r\n            {\r\n              key: \"getFocusableNodes\",\r\n              value: function () {\r\n                var e = this.modal.querySelectorAll(n);\r\n                return Array.apply(void 0, t(e));\r\n              },\r\n            },\r\n            {\r\n              key: \"setFocusToFirstNode\",\r\n              value: function () {\r\n                var e = this;\r\n                if (!this.config.disableFocus) {\r\n                  var t = this.getFocusableNodes();\r\n                  if (0 !== t.length) {\r\n                    var o = t.filter(function (t) {\r\n                      return !t.hasAttribute(e.config.closeTrigger);\r\n                    });\r\n                    o.length > 0 && o[0].focus(),\r\n                      0 === o.length && t[0].focus();\r\n                  }\r\n                }\r\n              },\r\n            },\r\n            {\r\n              key: \"retainFocus\",\r\n              value: function (e) {\r\n                var t = this.getFocusableNodes();\r\n                if (0 !== t.length)\r\n                  if (\r\n                    ((t = t.filter(function (e) {\r\n                      return null !== e.offsetParent;\r\n                    })),\r\n                    this.modal.contains(document.activeElement))\r\n                  ) {\r\n                    var o = t.indexOf(document.activeElement);\r\n                    e.shiftKey &&\r\n                      0 === o &&\r\n                      (t[t.length - 1].focus(), e.preventDefault()),\r\n                      !e.shiftKey &&\r\n                        t.length > 0 &&\r\n                        o === t.length - 1 &&\r\n                        (t[0].focus(), e.preventDefault());\r\n                  } else t[0].focus();\r\n              },\r\n            },\r\n          ]) && e(i.prototype, a),\r\n          r && e(i, r),\r\n          o\r\n        );\r\n      })()),\r\n      (a = null),\r\n      (r = function (e) {\r\n        if (!document.getElementById(e))\r\n          return (\r\n            console.warn(\r\n              \"MicroModal: ❗Seems like you have missed %c'\".concat(e, \"'\"),\r\n              \"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\r\n              \"ID somewhere in your code. Refer example below to resolve it.\"\r\n            ),\r\n            console.warn(\r\n              \"%cExample:\",\r\n              \"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\r\n              '<div class=\"modal\" id=\"'.concat(e, '\"></div>')\r\n            ),\r\n            !1\r\n          );\r\n      }),\r\n      (s = function (e, t) {\r\n        if (\r\n          ((function (e) {\r\n            e.length <= 0 &&\r\n              (console.warn(\r\n                \"MicroModal: ❗Please specify at least one %c'micromodal-trigger'\",\r\n                \"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\r\n                \"data attribute.\"\r\n              ),\r\n              console.warn(\r\n                \"%cExample:\",\r\n                \"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\r\n                '<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'\r\n              ));\r\n          })(e),\r\n          !t)\r\n        )\r\n          return !0;\r\n        for (var o in t) r(o);\r\n        return !0;\r\n      }),\r\n      {\r\n        init: function (e) {\r\n          var o = Object.assign(\r\n              {},\r\n              { openTrigger: \"data-micromodal-trigger\" },\r\n              e\r\n            ),\r\n            n = t(document.querySelectorAll(\"[\".concat(o.openTrigger, \"]\"))),\r\n            r = (function (e, t) {\r\n              var o = [];\r\n              return (\r\n                e.forEach(function (e) {\r\n                  var n = e.attributes[t].value;\r\n                  void 0 === o[n] && (o[n] = []), o[n].push(e);\r\n                }),\r\n                o\r\n              );\r\n            })(n, o.openTrigger);\r\n          if (!0 !== o.debugMode || !1 !== s(n, r))\r\n            for (var l in r) {\r\n              var c = r[l];\r\n              (o.targetModal = l), (o.triggers = t(c)), (a = new i(o));\r\n            }\r\n        },\r\n        show: function (e, t) {\r\n          var o = t || {};\r\n          (o.targetModal = e),\r\n            (!0 === o.debugMode && !1 === r(e)) ||\r\n              (a && a.removeEventListeners(), (a = new i(o)).showModal());\r\n        },\r\n        close: function (e) {\r\n          e ? a.closeModalById(e) : a.closeModal();\r\n        },\r\n      });\r\n  return (window.MicroModal = l), l;\r\n});\r\n\r\nconsole.log(\"Micromodal connected\");\r\nMicroModal.init();"]}