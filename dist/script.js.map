{"version":3,"sources":["script.js"],"names":["openMenuBtn","document","getElementById","closeMenuBtn","menuControls","nav","openMenu","classList","add","closeMenu","remove","console","log","addEventListener","bookmarkBtn","addBookmark","bookmarked","lastElementChild","innerText","popupModal","querySelector","successModal","modalTriggers","querySelectorAll","modalCloseTrigger","bodyBlackout","cardWrap","radios","forms","inputs","closeModal","modal","openModal","validatePledge","form","min","arguments","length","undefined","input","err","value","match","Number","concat","forEach","trigger","product","dataset","radio","card","focus","minPledge","no-reward","bamboo-stand","black-stand","mahogany-stand","e","preventDefault","target","pledge"],"mappings":"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","file":"script.js","sourcesContent":["// Navbar operation code\r\nvar openMenuBtn = document.getElementById(\"burger\");\r\nvar closeMenuBtn = document.getElementById(\"closeMenu\");\r\nvar menuControls = document.getElementById(\"menuControls\");\r\nvar nav = document.getElementById(\"nav\");\r\n\r\nconsole.log(\"script loaded\");\r\n\r\nopenMenuBtn.addEventListener(\"click\", openMenu);\r\ncloseMenuBtn.addEventListener(\"click\", closeMenu);\r\n\r\nfunction openMenu() {\r\n  nav.classList.add(\"open\");\r\n  menuControls.classList.add(\"open\");\r\n}\r\nfunction closeMenu() {\r\n  nav.classList.remove(\"open\");\r\n  menuControls.classList.remove(\"open\");\r\n}\r\n\r\n// Bookmark page\r\nvar bookmarkBtn = document.getElementById(\"bookmarkBtn\");\r\nbookmarkBtn.addEventListener(\"click\", addBookmark);\r\n\r\nlet bookmarked = false;\r\n\r\nfunction addBookmark() {\r\n  if (!bookmarked) {\r\n    console.log(\"adding bookmark\");\r\n    bookmarkBtn.lastElementChild.innerText = \"Bookmarked\";\r\n    bookmarkBtn.classList.add(\"bookmarked\");\r\n    bookmarked = true;\r\n  }\r\n}\r\n\r\n// Modals\r\nconst popupModal = document.querySelector(\".popup-modal\");\r\nconst successModal = document.querySelector(\".success-modal\");\r\nconst modalTriggers = document.querySelectorAll(\".popup-trigger\");\r\nconst modalCloseTrigger = document.querySelector(\".popup-modal__close\");\r\nconst bodyBlackout = document.querySelector(\".body-blackout\");\r\nconst cardWrap = document.querySelectorAll(\".cardWrap\");\r\nconst radios = document.querySelectorAll(\"input[type='radio']\");\r\nconst forms = document.querySelectorAll(\".productForm form\");\r\nconst inputs = document.querySelectorAll(\r\n  \".productForm form input[type='text']\"\r\n);\r\n\r\npopupModal\r\n  .querySelector(\".popup-modal__close\")\r\n  .addEventListener(\"click\", () => {\r\n    closeModal(popupModal);\r\n  });\r\n\r\nbodyBlackout.addEventListener(\"click\", () => {\r\n  closeModal();\r\n});\r\n\r\n// Close modal\r\nfunction closeModal(modal) {\r\n  // Remove all error messages and inputs\r\n\r\n  if (modal) {\r\n    modal.classList.remove(\"is--visible\");\r\n  } else {\r\n    popupModal.classList.remove(\"is--visible\");\r\n    successModal.classList.remove(\"is--visible\");\r\n  }\r\n  bodyBlackout.classList.remove(\"is-blacked-out\");\r\n}\r\n\r\n// Open modal\r\nfunction openModal(modal, product = null) {\r\n  modal.classList.add(\"is--visible\");\r\n  bodyBlackout.classList.add(\"is-blacked-out\");\r\n}\r\n\r\nmodalTriggers.forEach((trigger) => {\r\n  trigger.addEventListener(\"click\", () => {\r\n    const { product } = trigger.dataset;\r\n    openModal(popupModal, product);\r\n  });\r\n});\r\n\r\nradios.forEach((radio) =>\r\n  radio.addEventListener(\"change\", () => {\r\n    cardWrap.forEach((card) => {\r\n      if (card.dataset.product == radio.dataset.product) {\r\n        card.classList.add(\"checked\");\r\n\r\n        // autofocus input\r\n        card.querySelector(\"input[type='text']\").focus();\r\n      } else {\r\n        card.classList.remove(\"checked\");\r\n      }\r\n    });\r\n  })\r\n);\r\n\r\nfunction validatePledge(form, min = 0) {\r\n  // Get children elements\r\n  let input = form.querySelector(\"input[type='text']\");\r\n  let err = form.querySelector(\".errorMessage\");\r\n\r\n  if (input.value === \"\") {\r\n    form.classList.add(\"error\");\r\n    err.innerText = \"enter amount\";\r\n    return;\r\n  } else if (input.value.match(/\\D/)) {\r\n    form.classList.add(\"error\");\r\n    err.innerText = \"enter numeric characters only [0-9]\";\r\n    return;\r\n  } else if (Number(input.value) < min) {\r\n    form.classList.add(\"error\");\r\n    err.innerText = `amount must be at least $${min}`;\r\n    return;\r\n  } else {\r\n    form.classList.remove(\"error\");\r\n    err.innerText = \"\";\r\n    return Number(input.value);\r\n  }\r\n}\r\n\r\n// Defining minimum pledges\r\nlet minPledge = {\r\n  \"no-reward\": 0,\r\n  \"bamboo-stand\": 25,\r\n  \"black-stand\": 75,\r\n  \"mahogany-stand\": 200,\r\n};\r\n\r\nforms.forEach((form) => {\r\n  form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    let form = e.target;\r\n\r\n    // Validate form input\r\n    let pledge = validatePledge(form, minPledge[`${form.dataset.product}`]);\r\n\r\n    if (pledge) {\r\n      // Show success modal\r\n      closeModal(popupModal);\r\n      openModal(successModal);\r\n\r\n      // update donations\r\n      // select on header click\r\n\r\n      console.log(`pledge`, pledge);\r\n    }\r\n  });\r\n  let input = form.querySelector(\"input[type='text']\");\r\n  input.addEventListener(\"input\", () => {\r\n    validatePledge(form, minPledge[`${form.dataset.product}`]);\r\n  });\r\n});\r\n"]}