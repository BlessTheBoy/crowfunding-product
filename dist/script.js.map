{"version":3,"sources":["script.js"],"names":["openMenuBtn","document","getElementById","closeMenuBtn","menuControls","nav","openMenu","classList","add","closeMenu","remove","console","log","addEventListener","bookmarkBtn","addBookmark","bookmarked","lastElementChild","innerText","modal","querySelector","modalTriggers","querySelectorAll","modalCloseTrigger","bodyBlackout","cardWrap","radios","forms","validatePledge","form","min","arguments","length","undefined","input","err","value","match","Number","concat","forEach","trigger","popupTrigger","dataset","popupModal","closeModal","radio","card","product","focus","e","preventDefault","target"],"mappings":"AAAA,aACA,IAAIA,YAAcC,SAASC,eAAe,UACtCC,aAAeF,SAASC,eAAe,aACvCE,aAAeH,SAASC,eAAe,gBACvCG,IAAMJ,SAASC,eAAe,OAOlC,SAASI,WACPD,IAAIE,UAAUC,IAAI,QAClBJ,aAAaG,UAAUC,IAAI,QAE7B,SAASC,YACPJ,IAAIE,UAAUG,OAAO,QACrBN,aAAaG,UAAUG,OAAO,QAXhCC,QAAQC,IAAI,iBAEZZ,YAAYa,iBAAiB,QAASP,UACtCH,aAAaU,iBAAiB,QAASJ,WAYvC,IAAIK,YAAcb,SAASC,eAAe,eAC1CY,YAAYD,iBAAiB,QAASE,aAEtC,IAAIC,YAAa,EAEjB,SAASD,cACFC,aACHL,QAAQC,IAAI,mBACZE,YAAYG,iBAAiBC,UAAY,aACzCJ,YAAYP,UAAUC,IAAI,cAC1BQ,YAAa,GAKjB,IAAMG,MAAQlB,SAASmB,cAAc,gBAC/BC,cAAgBpB,SAASqB,iBAAiB,kBAC1CC,kBAAoBtB,SAASmB,cAAc,uBAC3CI,aAAevB,SAASmB,cAAc,kBACtCK,SAAWxB,SAASqB,iBAAiB,aACrCI,OAASzB,SAASqB,iBAAiB,uBACnCK,MAAQ1B,SAASqB,iBAAiB,qBA8CxC,SAASM,eAAeC,GAAe,IAATC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAE9BG,EAAQL,EAAKT,cAAc,sBAE3Be,GADSN,EAAKT,cAAc,wBACtBS,EAAKT,cAAc,kBAI7B,OAFAT,QAAQC,IAAI,cAEQ,KAAhBsB,EAAME,OACRP,EAAKtB,UAAUC,IAAI,cACnB2B,EAAIjB,UAAY,iBAEPgB,EAAME,MAAMC,MAAM,OAC3BR,EAAKtB,UAAUC,IAAI,cACnB2B,EAAIjB,UAAY,wCAEPoB,OAAOJ,EAAME,OAASN,GAC/BD,EAAKtB,UAAUC,IAAI,cACnB2B,EAAIjB,UAAJ,4BAAAqB,OAA4CT,MAG5CD,EAAKtB,UAAUG,OAAO,SACtByB,EAAIjB,UAAY,GACToB,OAAOJ,EAAME,QAnExBf,cAAcmB,SAAQ,SAACC,GACrBA,EAAQ5B,iBAAiB,SAAS,WAChC,IAAQ6B,EAAiBD,EAAQE,QAAzBD,aACFE,EAAa3C,SAASmB,cAAT,sBAAAmB,OACKG,EADL,OAInB,SAASG,IAGPD,EAAWrC,UAAUG,OAAO,eAC5Bc,aAAajB,UAAUG,OAAO,kBAGhCkC,EAAWrC,UAAUC,IAAI,eACzBgB,aAAajB,UAAUC,IAAI,kBAE3BoC,EACGxB,cAAc,uBACdP,iBAAiB,SAAS,WACzBgC,OAGJrB,aAAaX,iBAAiB,SAAS,WACrCgC,aAKNnB,OAAOc,SAAQ,SAACM,GAAD,OACbA,EAAMjC,iBAAiB,UAAU,WAC/BY,SAASe,SAAQ,SAACO,GACZA,EAAKJ,QAAQK,SAAWF,EAAMH,QAAQK,SACxCD,EAAKxC,UAAUC,IAAI,WAGnBuC,EAAK3B,cAAc,sBAAsB6B,SAEzCF,EAAKxC,UAAUG,OAAO,oBAiC9BiB,MAAMa,SAAQ,SAACX,GAAD,OACZA,EAAKhB,iBAAiB,UAAU,SAACqC,GAC/BA,EAAEC,iBAEFxC,QAAQC,IAAI,kBAKZgB,eAJWsB,EAAEE","file":"script.js","sourcesContent":["// Navbar operation code\r\nvar openMenuBtn = document.getElementById(\"burger\");\r\nvar closeMenuBtn = document.getElementById(\"closeMenu\");\r\nvar menuControls = document.getElementById(\"menuControls\");\r\nvar nav = document.getElementById(\"nav\");\r\n\r\nconsole.log(\"script loaded\");\r\n\r\nopenMenuBtn.addEventListener(\"click\", openMenu);\r\ncloseMenuBtn.addEventListener(\"click\", closeMenu);\r\n\r\nfunction openMenu() {\r\n  nav.classList.add(\"open\");\r\n  menuControls.classList.add(\"open\");\r\n}\r\nfunction closeMenu() {\r\n  nav.classList.remove(\"open\");\r\n  menuControls.classList.remove(\"open\");\r\n}\r\n\r\n// Bookmark page\r\nvar bookmarkBtn = document.getElementById(\"bookmarkBtn\");\r\nbookmarkBtn.addEventListener(\"click\", addBookmark);\r\n\r\nlet bookmarked = false;\r\n\r\nfunction addBookmark() {\r\n  if (!bookmarked) {\r\n    console.log(\"adding bookmark\");\r\n    bookmarkBtn.lastElementChild.innerText = \"Bookmarked\";\r\n    bookmarkBtn.classList.add(\"bookmarked\");\r\n    bookmarked = true;\r\n  }\r\n}\r\n\r\n// Modals\r\nconst modal = document.querySelector(\".popup-modal\");\r\nconst modalTriggers = document.querySelectorAll(\".popup-trigger\");\r\nconst modalCloseTrigger = document.querySelector(\".popup-modal__close\");\r\nconst bodyBlackout = document.querySelector(\".body-blackout\");\r\nconst cardWrap = document.querySelectorAll(\".cardWrap\");\r\nconst radios = document.querySelectorAll(\"input[type='radio']\");\r\nconst forms = document.querySelectorAll(\".productForm form\");\r\n\r\nmodalTriggers.forEach((trigger) => {\r\n  trigger.addEventListener(\"click\", () => {\r\n    const { popupTrigger } = trigger.dataset;\r\n    const popupModal = document.querySelector(\r\n      `[data-popup-modal=\"${popupTrigger}\"]`\r\n    );\r\n\r\n    function closeModal() {\r\n      // Remove all error messages and inputs\r\n\r\n      popupModal.classList.remove(\"is--visible\");\r\n      bodyBlackout.classList.remove(\"is-blacked-out\");\r\n    }\r\n\r\n    popupModal.classList.add(\"is--visible\");\r\n    bodyBlackout.classList.add(\"is-blacked-out\");\r\n\r\n    popupModal\r\n      .querySelector(\".popup-modal__close\")\r\n      .addEventListener(\"click\", () => {\r\n        closeModal();\r\n      });\r\n\r\n    bodyBlackout.addEventListener(\"click\", () => {\r\n      closeModal();\r\n    });\r\n  });\r\n});\r\n\r\nradios.forEach((radio) =>\r\n  radio.addEventListener(\"change\", () => {\r\n    cardWrap.forEach((card) => {\r\n      if (card.dataset.product == radio.dataset.product) {\r\n        card.classList.add(\"checked\");\r\n\r\n        // autofocus input\r\n        card.querySelector(\"input[type='text']\").focus();\r\n      } else {\r\n        card.classList.remove(\"checked\");\r\n      }\r\n    });\r\n  })\r\n);\r\n\r\nfunction validatePledge(form, min = 0) {\r\n  // Get children elements\r\n  let input = form.querySelector(\"input[type='text']\");\r\n  let button = form.querySelector(\"input[type='submit']\");\r\n  let err = form.querySelector(\".errorMessage\");\r\n\r\n  console.log(\"Validating\");\r\n\r\n  if (input.value === \"\") {\r\n    form.classList.add(\"error\");\r\n    err.innerText = \"enter amount\";\r\n    return;\r\n  } else if (input.value.match(/\\D/)) {\r\n    form.classList.add(\"error\");\r\n    err.innerText = \"enter numeric characters only [0-9]\";\r\n    return;\r\n  } else if (Number(input.value) < min) {\r\n    form.classList.add(\"error\");\r\n    err.innerText = `amount must be at least $${min}`;\r\n    return;\r\n  } else {\r\n    form.classList.remove(\"error\");\r\n    err.innerText = \"\";\r\n    return Number(input.value);\r\n  }\r\n}\r\n\r\nforms.forEach((form) =>\r\n  form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    console.log(\"form submitted\");\r\n    let form = e.target;\r\n\r\n    // Validate form input\r\n\r\n    validatePledge(form);\r\n    // Show success modal\r\n    // update donations\r\n  })\r\n);\r\n"]}